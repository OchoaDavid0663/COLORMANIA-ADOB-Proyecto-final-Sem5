{% extends "colormania/admin/base_admin.html" %}
{% block title %}Actualizar Producto{% endblock %}

{% block content %}
<div class="container mt-5 pt-5 text-center">
    <h1 class="bobby display-3" style="color: #ff0088;">ACTUALIZAR PRODUCTO</h1>

    <div class="card shadow-lg mx-auto mt-5" style="max-width: 700px; border-radius: 30px;">
        <div class="card-header text-white py-4" style="background: linear-gradient(135deg, #ff0088, #64c1ff);">
            <h3 class="bobby mb-0">{{ p.nombre }}</h3>
        </div>
        <div class="card-body p-5">
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="mb-4">
                    <input type="text" name="nombre" value="{{ p.nombre }}" class="form-control form-control-lg rounded-pill" required>
                </div>
                <div class="mb-4">
                    <textarea name="descripcion" class="form-control form-control-lg rounded-4" rows="4" required>{{ p.descripcion }}</textarea>
                </div>
                <div class="row mb-4">
                    <div class="col-md-6">
                        <input type="number" step="0.01" name="precio" value="{{ p.precio }}" class="form-control form-control-lg rounded-pill" required>
                    </div>
                    <div class="col-md-6">
                        <input type="number" name="stock" value="{{ p.stock }}" class="form-control form-control-lg rounded-pill" required>
                    </div>
                </div>
                <div class="mb-4 text-center">
                    {% if p.foto_producto %}
                        <img src="{{ p.foto_producto.url }}" alt="{{ p.nombre }}" class="img-fluid rounded-4 shadow mb-3" style="max-height: 300px;">
                        <p class="text-muted"><small>Foto actual</small></p>
                    {% endif %}
                    <input type="file" name="foto_producto" accept="image/*" class="form-control form-control-lg rounded-pill">
                </div>

                <div class="mt-5">
                    <a href="{% url 'admin_productos' %}" class="btn btn-secondary btn-lg rounded-pill px-5">Cancelar</a>
                    <button type="submit" class="btn btn-primary btn-lg rounded-pill px-5 shadow-lg">Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}